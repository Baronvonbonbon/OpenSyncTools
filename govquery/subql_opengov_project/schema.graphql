type Referendum @entity {
  id: ID!
  index: Int!
  track: String
  origin: String
  status: String
  submittedAt: BigInt
  submittedTs: Date
  confirmStartedAt: BigInt
  confirmedAt: BigInt
  rejectedAt: BigInt
  timedOutAt: BigInt
  cancelledAt: BigInt
  killedAt: BigInt
  preimageHash: String
  callModule: String
  callName: String
  callArgsJson: JSON
  events: [ReferendumEvent] @derivedFrom(field: "referendum")
  linkedSpends: [TreasurySpend] @derivedFrom(field: "referendum")
}

type ReferendumEvent @entity {
  id: ID!
  referendum: Referendum!
  blockNumber: BigInt!
  timestamp: Date
  extrinsicHash: String
  type: String!
  detailsJson: JSON
}

type TreasurySpend @entity {
  id: ID!
  blockNumber: BigInt!
  timestamp: Date
  extrinsicHash: String
  event: String!
  beneficiary: String!
  amount: BigInt!
  assetId: String
  track: String
  referendum: Referendum
}
